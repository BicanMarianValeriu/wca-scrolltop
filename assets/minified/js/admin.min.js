(()=>{"use strict";const e=window.ReactJSXRuntime,{i18n:{__},components:{Dashicon:o,Button:l,ButtonGroup:s,Tooltip:t,Icon:a,TextControl:n,BaseControl:i,useBaseControlProps:r,__experimentalHStack:c},element:{useState:p,useEffect:d}}=wp,h=[{viewBox:"0 0 16 16",paths:["M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-7.5 3.5a.5.5 0 0 1-1 0V5.707L5.354 7.854a.5.5 0 1 1-.708-.708l3-3a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 5.707V11.5z"]},{viewBox:"0 0 16 16",paths:["M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm8.5 9.5a.5.5 0 0 1-1 0V5.707L5.354 7.854a.5.5 0 1 1-.708-.708l3-3a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 5.707V11.5z"]},{viewBox:"0 0 16 16",paths:["M3.5 10a.5.5 0 0 1-.5-.5v-8a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 0 0 1h2A1.5 1.5 0 0 0 14 9.5v-8A1.5 1.5 0 0 0 12.5 0h-9A1.5 1.5 0 0 0 2 1.5v8A1.5 1.5 0 0 0 3.5 11h2a.5.5 0 0 0 0-1h-2z","M7.646 4.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 5.707V14.5a.5.5 0 0 1-1 0V5.707L5.354 7.854a.5.5 0 1 1-.708-.708l3-3z"]},{viewBox:"0 0 16 16",paths:["M8 10a.5.5 0 0 0 .5-.5V3.707l2.146 2.147a.5.5 0 0 0 .708-.708l-3-3a.5.5 0 0 0-.708 0l-3 3a.5.5 0 1 0 .708.708L7.5 3.707V9.5a.5.5 0 0 0 .5.5zm-7 2.5a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 0 1h-13a.5.5 0 0 1-.5-.5z"]},{viewBox:"0 0 16 16",paths:["M8 12a.5.5 0 0 0 .5-.5V5.707l2.146 2.147a.5.5 0 0 0 .708-.708l-3-3a.5.5 0 0 0-.708 0l-3 3a.5.5 0 1 0 .708.708L7.5 5.707V11.5a.5.5 0 0 0 .5.5z"]}],x=({formData:t,setFormData:d,...x})=>{const{baseControlProps:m,controlProps:w}=r(x),{disabled:u}=m,{icon:g={}}=t||{},[j,b]=p(g?.viewBox),[v,C]=p(g?.paths);return(0,e.jsxs)(i,{...m,children:[(0,e.jsx)("p",{style:{marginTop:0},children:(0,e.jsx)(s,{children:h.map((o=>(0,e.jsx)(l,{isPrimary:JSON.stringify(o)===JSON.stringify(g),onClick:()=>(e=>{C(e.paths),b(e.viewBox),d({...t,icon:e})})(o),children:(0,e.jsx)(a,{icon:()=>(0,e.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:o?.viewBox,height:16,children:o?.paths.map((o=>(0,e.jsx)("path",{fill:"currentColor",d:o})))})})})))})}),(0,e.jsx)("p",{style:{marginTop:0},children:(0,e.jsxs)(c,{style:{alignItems:"stretch"},children:[(0,e.jsx)(n,{...w,disabled:u,className:"flex-grow-1",placeholder:__("ViewBox","wca-scrolltop"),value:j,onChange:b}),(0,e.jsx)(l,{disabled:u,style:{height:"initial"},isSecondary:!0,isSmall:!0,onClick:()=>{d({...t,icon:{...t.icon,viewBox:j}})},showTooltip:!0,children:__("Update SVG viewBox","wca-scrolltop")})]})}),(0,e.jsx)("p",{style:{marginTop:0},children:v.map(((s,a)=>(0,e.jsx)("p",{style:{marginTop:0},children:(0,e.jsxs)(c,{style:{alignItems:"stretch"},children:[(0,e.jsx)(n,{...w,disabled:u,className:"flex-grow-1",placeholder:__("Path","wca-scrolltop"),value:s,onChange:e=>((e,o)=>{const l=[...v];l[e]=o,C(l),d({...t,icon:{viewBox:j,paths:l}})})(a,e)}),0!==a&&(0,e.jsx)(l,{disabled:u,style:{height:"initial"},isDestructive:!0,isSmall:!0,onClick:()=>(e=>{const o=[...v];o.splice(e,1),C(o),d({...t,icon:{viewBox:j,paths:o}})})(a),children:(0,e.jsx)(o,{icon:"no"})})]},a)})))}),(0,e.jsx)(l,{disabled:u,isPrimary:!0,onClick:()=>{const e=[...v,""];C(e),d({...t,icon:{viewBox:j,paths:e}})},children:__("Add Path","wca-scrolltop")})]})},m=({formData:o})=>{const{icon:{viewBox:s="0 0 16 16",paths:n=["M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-7.5 3.5a.5.5 0 0 1-1 0V5.707L5.354 7.854a.5.5 0 1 1-.708-.708l3-3a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 5.707V11.5z"]}={},scroll:{offset:i=0}={},classes:r=""}=o,[c,h]=p(window.scrollY<i);return d((()=>{const e=()=>{const e=window.scrollY;h(e<i)};return e(),window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)}),[i]),(0,e.jsx)(t,{text:__("Preview","wca-scrolltop"),children:(0,e.jsx)(l,{className:r,style:(({position:e,style:{padding:o,border:l={},borderRadius:s,opacity:t,width:a,height:n,left:i="initial",right:r="initial",bottom:p=0,backgroundColor:d="transparent",color:h="inherit"}={}}={})=>{let x={position:"fixed",zIndex:c?-1:5,bottom:p,width:a,height:n,padding:o,color:h,borderRadius:s,backgroundColor:d,opacity:c?0:`${t}%`,left:"left"===e?i:"initial",right:"right"===e?r:"initial",transition:"all .3s ease-in-out"},m={};const w=Object.keys(l);if(["top","left","right","bottom"].some((e=>w.includes(e))))for(const e in l){const o=l[e];m={...m,["border"+(u=e,`${u.charAt(0).toUpperCase()}${u.slice(1)}`)]:Object.values(o).join(" ")}}else m={border:Object.values(l).join(" ")};var u;return x={...x,...m},x})(o),children:(0,e.jsx)(a,{icon:()=>(0,e.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:s,children:n.map((o=>(0,e.jsx)("path",{fill:"currentColor",d:o})))})})})})},{i18n:{__:w},hooks:{addFilter:u},components:{Placeholder:g,Card:j,CardHeader:b,CardBody:v,Spinner:C,Button:f,TextControl:y,BaseControl:S,ColorPicker:B,RangeControl:k,DropdownMenu:V,SelectControl:I,ColorIndicator:N,__experimentalHStack:z,__experimentalNumberControl:P,__experimentalBorderBoxControl:A},element:{useState:E},blockEditor:{useSetting:L}}=wp;u("wecodeart.admin.tabs.plugins","wecodeart/scrolltop/admin/panel",(function(o){return[...o,{name:"wca-scrolltop",title:w("Scroll Top","wca-scrolltop"),render:o=>(0,e.jsx)(D,{...o})}]}));const D=o=>{const{settings:l,saveSettings:s,isRequesting:t,createNotice:a}=o;if(t||!l)return(0,e.jsx)(g,{icon:(0,e.jsx)(C,{}),label:w("Loading","wca-scrolltop"),instructions:w("Please wait, loading settings...","wca-scrolltop")});const n=(({scrolltop:e})=>e)(l),[i,r]=E(null),[c,p]=E(n),d=(e={})=>{const o={...c?.style,...e};p({...c,style:o})},h=()=>(r(!1),a("success",w("Settings saved.","wca-scrolltop"))),u=L("color.palette");return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:"grid",style:{"--wca--columns":2},children:[(0,e.jsx)("div",{className:"g-col-1",children:(0,e.jsxs)(j,{className:"border shadow-none",children:[(0,e.jsx)(b,{children:(0,e.jsx)("h5",{className:"text-uppercase fw-medium m-0",children:w("Design","wca-scrolltop")})}),(0,e.jsxs)(v,{style:{color:"rgb(30, 30, 30)"},children:[(0,e.jsx)("p",{children:(0,e.jsx)(x,{formData:c,setFormData:p,label:w("Icon","wca-scrolltop"),help:w("Use simple icons like FontAwesome or Bootstrap. Each icon can have 1 or more path elements.","wca-scrolltop")})}),(0,e.jsx)("p",{children:(0,e.jsx)(I,{label:w("Position","wca-scrolltop"),value:c?.position,options:[{label:w("Left","wca-scrolltop"),value:"left"},{label:w("Right","wca-scrolltop"),value:"right"}],onChange:e=>p({...c,position:e})})}),(0,e.jsx)("p",{children:(0,e.jsxs)(z,{children:[(0,e.jsx)(P,{isShiftStepEnabled:!0,spinControls:"custom",label:w("Horizontal Margin","wca-scrolltop"),help:w("Number of pixels for horizontal window distance.","wca-scrolltop"),min:0,value:c?.style?.[c?.position],onChange:e=>d({[c?.position]:parseInt(e)})}),(0,e.jsx)(P,{isShiftStepEnabled:!0,spinControls:"custom",label:w("Vertical Margin","wca-scrolltop"),help:w("Number of pixels for vertical window distance.","wca-scrolltop"),min:0,value:c?.style?.bottom,onChange:e=>d({bottom:parseInt(e)})})]})}),(0,e.jsx)("p",{children:(0,e.jsx)(P,{isShiftStepEnabled:!0,spinControls:"custom",label:w("Size","wca-scrolltop"),min:20,value:c?.style?.width,onChange:e=>d({width:parseInt(e),height:parseInt(e)}),help:w("In pixels.","wca-scrolltop")})}),(0,e.jsx)("p",{children:(0,e.jsx)(P,{isShiftStepEnabled:!0,spinControls:"custom",label:w("Padding","wca-scrolltop"),min:0,value:c?.style?.padding,onChange:e=>d({padding:parseInt(e)}),help:w("In pixels.","wca-scrolltop")})}),(0,e.jsx)("p",{children:(0,e.jsx)(k,{label:w("Opacity","wca-scrolltop"),value:c?.style?.opacity,onChange:e=>d({opacity:parseInt(e)}),min:0,step:5,max:100})}),(0,e.jsx)("p",{children:(0,e.jsx)(S,{label:w("Colors","wca-scrolltop"),children:(0,e.jsxs)(z,{style:{justifyContent:"flex-start"},children:[(0,e.jsx)(V,{label:w("Background Color","wca-scrolltop"),icon:(0,e.jsx)(N,{colorValue:c?.style?.backgroundColor}),toggleProps:{style:{height:"initial",minWidth:"initial",padding:0}},popoverProps:{focusOnMount:"container",position:"bottom",noArrow:!1},children:()=>(0,e.jsx)(B,{color:c?.style?.backgroundColor,onChange:e=>d({backgroundColor:e}),enableAlpha:!0,defaultValue:"#000"})}),(0,e.jsx)(V,{label:w("Icon Color","wca-scrolltop"),icon:(0,e.jsx)(N,{colorValue:c?.style?.color}),toggleProps:{style:{height:"initial",minWidth:"initial",padding:0}},popoverProps:{focusOnMount:"container",position:"bottom",noArrow:!1},children:()=>(0,e.jsx)(B,{color:c?.style?.color,onChange:e=>d({color:e}),enableAlpha:!0,defaultValue:"#000"})})]})})}),(0,e.jsx)("p",{children:(0,e.jsx)(A,{colors:u,label:w("Border","wca-scrolltop"),value:c?.style?.border,onChange:e=>d({border:e})})}),(0,e.jsx)("p",{children:(0,e.jsx)(k,{label:w("Radius","wca-scrolltop"),allowReset:!0,value:c?.style?.borderRadius,onChange:e=>d({borderRadius:e}),min:0})})]})]})}),(0,e.jsx)("div",{className:"g-col-1",children:(0,e.jsxs)(j,{className:"border shadow-none position-sticky sticky-top h-100",children:[(0,e.jsx)(b,{children:(0,e.jsx)("h5",{className:"text-uppercase fw-medium m-0",children:w("Functionality","wca-scrolltop")})}),(0,e.jsxs)(v,{style:{color:"rgb(30, 30, 30)"},children:[(0,e.jsx)("p",{children:(0,e.jsx)(I,{label:w("Action","wca-scrolltop"),value:c?.action,options:[{label:"Scroll to Top",value:"top"},{label:"Scroll to Element",value:"element"}],onChange:e=>{"top"===e&&delete c.element,p({...c,action:e})}})}),"element"===c?.action&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("p",{children:(0,e.jsx)(y,{label:w("Element selector","wca-scrolltop"),value:c?.element?.selector,onChange:e=>p({...c,element:{...c.element,selector:e}}),help:w("CSS selector of the element, you are trying to scroll to. Eg: #myDivID, .myDivClass","wca-scrolltop")})}),(0,e.jsx)("p",{children:(0,e.jsx)(P,{isShiftStepEnabled:!0,spinControls:"custom",label:w("Element offset","wca-scrolltop"),value:c?.element?.offset,onChange:e=>p({...c,element:{...c.element,offset:parseInt(e)}}),help:w("Negative value allowed. Use this to precisely set scroll position when you have overlapping elements.","wca-scrolltop")})})]}),(0,e.jsx)("p",{children:(0,e.jsx)(P,{isShiftStepEnabled:!0,spinControls:"custom",label:w("Scroll offset","wca-scrolltop"),help:w("Number of pixels to be scrolled before the button appears.","wca-scrolltop"),min:0,value:c?.scroll?.offset,onChange:e=>p({...c,scroll:{...c?.scroll,offset:parseInt(e)}})})}),(0,e.jsx)("p",{children:(0,e.jsx)(P,{isShiftStepEnabled:!0,spinControls:"custom",label:w("Scroll duration","wca-scrolltop"),help:w("Window scroll duration in milliseconds when the button is pressed.","wca-scrolltop"),min:100,step:10,value:c?.scroll?.duration,onChange:e=>p({...c,scroll:{...c?.scroll,duration:parseInt(e)}})})}),(0,e.jsx)("p",{children:(0,e.jsx)(y,{label:w("Class(es)","wca-scrolltop"),value:c?.classes,onChange:e=>p({...c,classes:e}),help:w("You can use utilities like: d-none, d-md-block; and so on.","wca-scrolltop")})})]})]})})]}),(0,e.jsx)(m,{formData:c}),(0,e.jsx)("hr",{style:{margin:"20px 0"}}),(0,e.jsx)(f,{className:"button",isPrimary:!0,isLarge:!0,icon:i&&(0,e.jsx)(C,{}),onClick:()=>{r(!0),s({scrolltop:c},h)},disabled:i,children:i?"":w("Save","wecodeart")})]})}})();